<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <title>Test Zapisu Danych</title>
</head>
<body>

    <h1>Test - Czy zapisywanie działa?</h1>

    <div id="test-container">
        </div>

    <p style="font-size: 1.5rem; font-weight: bold;">
        Status: <span id="status">Czekam na akcję...</span>
    </p>

    <script>
        // --- POCZĄTEK SKRYPTU TESTOWEGO ---

        const container = document.getElementById('test-container');
        const statusElement = document.getElementById('status');

        console.log("1. Skrypt testowy został uruchomiony.");

        // Krok A: Dynamicznie tworzymy przycisk w HTML-u (tak jak robi to Twoja aplikacja)
        container.innerHTML = '<button id="dynamiczny-przycisk" style="font-size: 1.2rem; padding: 10px;">Kliknij mnie, aby przetestować zapis</button>';
        console.log("2. Przycisk został dynamicznie dodany do strony.");

        // Krok B: Próbujemy znaleźć ten nowo stworzony przycisk
        const naszPrzycisk = document.getElementById('dynamiczny-przycisk');

        // Krok C: Sprawdzamy, czy udało się go znaleźć
        if (naszPrzycisk) {
            console.log("3. Poprawnie znaleziono dynamiczny przycisk.");
            
            // Krok D: Podpinamy do niego zdarzenie 'click' (to jest to, co nie działa w głównej aplikacji)
            naszPrzycisk.addEventListener('click', function() {
                console.log("5. SUKCES! Zdarzenie 'click' zostało poprawnie obsłużone.");
                statusElement.textContent = 'Zapis działa poprawnie!';
                statusElement.style.color = 'green';
            });

            console.log("4. Funkcja zapisu została poprawnie podpięta do przycisku.");

        } else {
            console.error("KRYTYCZNY BŁĄD: Skrypt nie mógł znaleźć przycisku, który sam przed chwilą stworzył.");
            statusElement.textContent = 'Błąd krytyczny!';
            statusElement.style.color = 'red';
        }

        // --- KONIEC SKRYPTU TESTOWEGO ---
    </script>

</body>
</html>